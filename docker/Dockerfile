FROM openjdk:17-alpine
ARG DB_USERNAME
ARG DB_PASSWORD
ARG SPRING_PROFILE
ARG DB_HOST
ARG DB_DATABASE
ARG DB_PORT
ENV DB_USERNAME=${DB_USERNAME}
ENV DB_PASSWORD=${DB_PASSWORD}
ENV DB_HOST=${DB_HOST}
ENV DB_DATABASE=${DB_DATABASE}
ENV DB_PORT=${DB_PORT}
ENV SPRING_PROFILE=${SPRING_PROFILE}
COPY ./target/ponto-eletronico-registro-1.0.0.jar /usr/src/myapp/app.jar
WORKDIR /usr/src/myapp
ENTRYPOINT java -Dspring.profiles.active="$SPRING_PROFILE" -jar app.jar